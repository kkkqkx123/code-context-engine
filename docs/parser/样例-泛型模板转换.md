# 泛型/模板转换样例

## 概述

本文档展示如何将泛型和模板代码转换为自然语言表示。

## 转换模板

```
Generic function {normalizedName} {docstringPart} with type parameters {typeParams} defined as {normalizedSignature} {context}
```

## 样例1：泛型函数

### 输入代码

```typescript
/**
 * Transform a list of items by applying the given transformation function
 */
function transformList<T, R>(items: T[], transform: (item: T) => R): R[] {
    return items.map(transform);
}
```

### 转换结果

```
Generic function Transform list that does Transform a list of items by applying the given transformation function with type parameters T R defined as function transform list items array transform item R array
```

---

## 样例2：泛型类

### 输入代码

```typescript
/**
 * Generic container for storing a value
 */
class Container<T> {
    private value: T;

    constructor(value: T) {
        this.value = value;
    }

    getValue(): T {
        return this.value;
    }
}
```

### 转换结果

```
Generic class Container that does Generic container for storing a value with type parameters T with fields value T and methods constructor get value
```

---

## 样例3：泛型接口

### 输入代码

```typescript
/**
 * Repository interface for data access
 */
interface Repository<T> {
    findById(id: string): Promise<T>;
    save(entity: T): Promise<void>;
    delete(id: string): Promise<void>;
}
```

### 转换结果

```
Generic interface Repository that does Repository interface for data access with type parameters T with methods find by id save delete
```

---

## 样例4：泛型约束

### 输入代码

```typescript
/**
 * Get the length of an object with a length property
 */
function getLength<T extends { length: number }>(obj: T): number {
    return obj.length;
}
```

### 转换结果

```
Generic function Get length that does Get the length of an object with a length property with type parameters T extends length number defined as function get length obj number
```

---

## 样例5：多重泛型参数

### 输入代码

```typescript
/**
 * Merge two objects
 */
function merge<T, U>(obj1: T, obj2: U): T & U {
    return { ...obj1, ...obj2 };
}
```

### 转换结果

```
Generic function Merge that does Merge two objects with type parameters T U defined as function merge obj1 obj2 T U
```

---

## 样例6：默认泛型类型

### 输入代码

```typescript
/**
 * Create a new array with default type
 */
function createArray<T = string>(length: number, value: T): T[] {
    return Array(length).fill(value);
}
```

### 转换结果

```
Generic function Create array that does Create a new array with default type with type parameters T default string defined as function create array length value T array
```

---

## 样例7：条件泛型类型

### 输入代码

```typescript
/**
 * Get the type of an array element or the type itself
 */
type ElementType<T> = T extends (infer U)[] ? U : T;
```

### 转换结果

```
Generic type ElementType that does Get the type of an array element or the type itself with type parameters T
```

---

## 样例8：泛型工具类型

### 输入代码

```typescript
/**
 * Make all properties optional
 */
type Partial<T> = {
    [P in keyof T]?: T[P];
};
```

### 转换结果

```
Generic type Partial that does Make all properties optional with type parameters T
```

---

## 转换要点

1. **泛型参数保留**：保留泛型参数名称（如 T, U, R）
2. **泛型约束描述**：描述泛型约束条件（如 `extends length number`）
3. **默认类型标注**：标注默认泛型类型（如 `default string`）
4. **简化表示**：不展开复杂的泛型类型表达式

## 处理策略

- **简单泛型**：直接保留泛型参数名
- **泛型约束**：用自然语言描述约束条件
- **条件类型**：简化描述条件逻辑
- **映射类型**：描述映射操作的目的